{
  "flow_type": "template",
  "flow_name": "story_block_group",
  "status": "released",
  "rows": [
    {
      "name": "data_list_name",
      "value": "story_block_group"
    },
    {
      "name": "id",
      "value": "interactive_play_distracted"
    },
    {
      "name": "sbg_concat",
      "value": "@local.data_list_name.@local.id"
    },
    {
      "name": "sbg_data",
      "value": "@data.@local.sbg_concat"
    },
    {
      "type": "title",
      "name": "title",
      "value": "@local.sbg_data.title",
      "condition": "!!(@local.sbg_data.title)"
    },
    {
      "type": "text",
      "name": "intro_text",
      "value": "@local.sbg_data.intro_text",
      "condition": "!!(@local.sbg_data.intro_text)"
    },
    {
      "name": "task_1_id",
      "value": "@local.sbg_data.task_1_id"
    },
    {
      "name": "task_2_id",
      "value": "@local.sbg_data.task_2_id"
    },
    {
      "name": "task_3_id",
      "value": "@local.sbg_data.task_3_id"
    },
    {
      "name": "task_4_id",
      "value": "@local.sbg_data.task_4_id"
    },
    {
      "name": "no_of_parts_list",
      "value": "!!@local.task_1_id; !!@local.task_2_id; !!@local.task_3_id; !!@local.task_4_id; "
    },
    {
      "name": "no_of_parts",
      "value": "@calc(@local.no_of_parts_list.filter(Boolean).length)"
    },
    {
      "type": "begin_items",
      "value": "@data.number"
    },
    {
      "type": "begin_display_group",
      "name": "dg_@item.id",
      "parameter_list": "style: column",
      "condition": "@item.id <= @local.no_of_parts"
    },
    {
      "name": "join_id",
      "value": "_id"
    },
    {
      "name": "join_data",
      "value": "_data"
    },
    {
      "name": "task_id_temp_1",
      "value": "task_@item.id@local.join_id"
    },
    {
      "name": "task_id_temp_2",
      "value": "@local.sbg_concat.@local.task_id_temp_1"
    },
    {
      "name": "task_id",
      "value": "@data.@local.task_id_temp_2"
    },
    {
      "name": "task_data_temp_1",
      "value": "task_@item.id@local.join_data"
    },
    {
      "name": "task_data_temp_2",
      "value": "@local.sbg_concat.@local.task_data_temp_1"
    },
    {
      "name": "task_data",
      "value": "@data.@local.task_data_temp_2"
    },
    {
      "type": "begin_template",
      "name": "template_@item.id",
      "value": "@local.task_data",
      "action_list": "uncompleted | emit: uncompleted; completed | emit: completed;"
    },
    {
      "name": "data_list_name",
      "value": "@local.task_data"
    },
    {
      "name": "id",
      "value": "@local.task_id"
    },
    {
      "type": "begin_nested_properties",
      "name": "nav_buttons",
      "hidden": "@item.id != @local.no_of_parts"
    },
    {
      "type": "end_nested_properties"
    },
    {
      "type": "end_template"
    },
    {
      "type": "end_display_group"
    },
    {
      "type": "end_items"
    }
  ]
}